---
title: "0. ESP32 BLE-MQTT Gateway: Project Overview"
date: "2025-12-25"
description: "A low-power IoT gateway system with dual-mode operation (Scanner/Broadcaster), featuring interrupt-driven channel switching and smart deep sleep scheduling."
tags: ["ESP32", "IoT", "BLE", "MQTT", "Embedded", "NimBLE"]
---

## Project Overview

This project implements a **BLE-to-MQTT Gateway** based on the ESP32-S3, designed for low-power IoT applications. The system supports two operational modes:

- **Scanner Mode**: Scans BLE advertisement data and uploads to MQTT broker with deduplication
- **Broadcaster Mode**: Receives MQTT messages and broadcasts via BLE

### Key Features

| Feature | Description |
|---------|-------------|
| **Dual-Role Support** | Compile-time switch between Scanner and Broadcaster modes |
| **Instant Response** | GPIO interrupt-driven channel switching (zero latency) |
| **Smart Power Management** | Schedule-based deep sleep with manual override capability |
| **Multi-Channel** | 4 configurable MQTT topic channels with button switching |
| **Data Deduplication** | 128-entry cache to reduce redundant MQTT traffic |

### Technology Stack

| Component | Technology |
|-----------|------------|
| MCU | ESP32-S3 |
| BLE Stack | NimBLE (Apache Mynewt) |
| Connectivity | WiFi + MQTT |
| Power Management | BQ25895 PMIC (Scanner only) |
| Framework | ESP-IDF |

### Documentation Structure

This series covers the software architecture and implementation details:

1. **Project Overview** (this document)
2. **Software Architecture** - System design, state machines, and data flow
3. *Hardware Design* (coming soon)

### Design Philosophy

The gateway prioritizes **power efficiency** and **responsiveness**:

- **Interrupt-Driven**: Replaced polling with GPIO interrupts + FreeRTOS task notifications
- **Schedule-Aware**: Automatic sleep/wake based on configurable time windows
- **User Override**: Button press instantly switches channels or wakes from deep sleep

> **Note**: This project demonstrates advanced ESP-IDF concepts including deep sleep, ext0 wakeup, ISR handling, and NimBLE integration.

---

*Next: [Software Architecture â†’](./1.software-architecture)*
